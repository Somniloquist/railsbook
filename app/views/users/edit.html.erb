<div class="container col-md-6">
  <h1>Edit</h1>
  <%= form_with model: @user, url: user_settings_path(@user), method: :patch, local: true do |f| %>
    <%= hidden_field_tag :user_id, @user.id %>
    <%= render "devise/shared/error_messages", resource: @user %>
    <div class="form-group">
      <%= f.label :firstname, class: "sr-only" %>
      <%= f.text_field :firstname, placeholder: "First name", autofocus: true, class: "form-control" %>
    </div>
    <div class="form-group">
      <%= f.label :lastname, class: "sr-only" %>
      <%= f.text_field :lastname, placeholder: "Last name", class: "form-control" %>
    </div>
    <div class="form-group">
      <%= f.label :about, class: "sr-only" %>
      <%= f.text_area :about, placeholder: "About me", class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :avatar %>
      <%= f.file_field :avatar, class: "form-control" %>
      <% if @user.avatar.attached? %>
        <!-- Prevents the broken link icon from showing when the wrong file type is uploaded -->
        <% if @user.avatar.image? %>
          <h6>Current avatar</h6>
          <%= image_tag url_for(@avatar_thumb) %>
          <%= link_to "Remove avatar", delete_avatar_user_path(@user), method: :delete, class: "btn btn-danger" %>
        <% end %>
      <% end %>
     </div>

    <div class="form-group">
      <%= f.label :banner_picture %>
      <%= f.file_field :banner_picture, class: "form-control" %>
      <% if @user.banner_picture.attached? %>
        <!-- Prevents the broken link icon from showing when the wrong file type is uploaded -->
        <% if @user.banner_picture.image? %>
          <h6>Current banner</h6>
          <%= image_tag url_for(@banner_thumb) %>
          <%= link_to "Remove banner", delete_banner_user_path(@user), method: :delete, class: "btn btn-danger" %>
        <% end %>
      <% end %>
    </div>

    <div class="form-group">
      <%= f.submit "Update profile", class: "btn btn-primary float-right" %>
    </div>
  <% end %>
</div>